import{A as h,bg as C,aG as X,aN as Y,aq as K,_ as R}from"./index.b229d964.js";import{L as ee}from"./LeftOutlined.af209b82.js";import{E as Z}from"./EyeOutlined.43659b94.js";import{s as a,E as O,l as D,a as E,f as v,G as te,I as u,F as U,r as H,O as P,Q as S,M as T,R as k,W as ne,Z as _}from"./vue.c50f9232.js";import{D as le}from"./index.3a1806d4.js";var ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},ie=ae;function re(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},t=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable}))),t.forEach(function(r){se(e,r,l[r])})}return e}function se(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var I=function(n,l){var t=re({},n,l.attrs);return a(h,O(t,{icon:ie}),null)};I.displayName="RedoOutlined";I.inheritAttrs=!1;var oe=I,ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},ue=ce;function de(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},t=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable}))),t.forEach(function(r){fe(e,r,l[r])})}return e}function fe(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var j=function(n,l){var t=de({},n,l.attrs);return a(h,O(t,{icon:ue}),null)};j.displayName="ZoomInOutlined";j.inheritAttrs=!1;var me=j,ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},ve=ge;function pe(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},t=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable}))),t.forEach(function(r){he(e,r,l[r])})}return e}function he(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var $=function(n,l){var t=pe({},n,l.attrs);return a(h,O(t,{icon:ve}),null)};$.displayName="ZoomOutOutlined";$.inheritAttrs=!1;var Oe=$,_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},be=_e;function ye(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},t=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable}))),t.forEach(function(r){we(e,r,l[r])})}return e}function we(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var z=function(n,l){var t=ye({},n,l.attrs);return a(h,O(t,{icon:be}),null)};z.displayName="UndoOutlined";z.inheritAttrs=!1;var xe=z,m;(function(e){e.LEFT="left",e.RIGHT="right"})(m||(m={}));const Ce={list:{type:null,default:()=>[]},srcName:{type:String,default:""},clickMaskClose:{type:Boolean,default:!0},show:{type:Boolean,default:!1},index:{type:Number,default:0},width:{type:[Number,String],default:300},height:{type:[Number,String],default:200},imageClass:{type:String,default:""},rootClass:{type:String,default:""}};var Ee=D({name:"ImagePreview",inheritAttrs:!1,props:Ce,emits:["activeIndex","closeModal","update:show"],setup(e,{emit:n,slots:l}){const t=E({scale:1,rotate:0,show:!1,idx:e.index,src:"",isHover:!1}),r=v(()=>({transform:`scale(${t.scale}) rotate(${t.rotate}deg)`})),g=v(()=>{const{width:i,height:s}=e;return{width:`${i}px`,height:`${s}px`}}),p=v(()=>t.show?C(e.list)?Boolean(e.list):e.list&&e.list.length>0:!1),f=v(()=>C(e.list)),b=v(()=>!C(e.list)&&e.list.length>1),y=(i,s)=>{i.stopPropagation(),t.scale<=.4&&s<0||(t.scale+=s)},A=(i,s)=>{i.stopPropagation();const o=t.rotate===-270||t.rotate===270;t.rotate=o?0:t.rotate+s},w=i=>{i&&i.stopPropagation(),t.scale=1,t.rotate=0},B=()=>{t.show=!1,n("update:show",!1),n("closeModal")},F=(i,s)=>{w();const{srcName:o,list:c}=e;t.idx=s,t.src=u(f)?c:o?c[s][o]:c[s],t.show=i?e.show:!0},L=(i,s)=>{w(),i.stopPropagation();const{idx:o}=t,{list:c,srcName:d}=e;s===m.LEFT?(t.idx-=1,o<=0&&(t.idx=c.length-1)):s===m.RIGHT&&(t.idx+=1,o>=c.length-1&&(t.idx=0)),n("activeIndex",t.idx),t.src=u(f)?c:d?c[t.idx][d]:c[t.idx]},G=()=>{e.clickMaskClose&&B()},M=i=>{F(!1,i)};te(()=>{l.default&&e.show&&F(!0,e.index)});const V=()=>a("div",{class:"image-preview-close"},[a(X,{title:"\u5173\u95ED",style:{fontSize:"20px",color:"#fff"},onClick:()=>B()},null)]),q=()=>a("div",{class:"preview-util justify-space-between"},[[{icon:xe,title:"\u5DE6\u8F6C",onClick:A,args:-90},{icon:oe,title:"\u53F3\u8F6C",onClick:A,args:90},{icon:me,title:"\u653E\u5927",onClick:y,args:.2},{icon:Oe,title:"\u7F29\u5C0F",onClick:y,args:-.2},{icon:K,title:"\u8FD8\u539F",onClick:w,args:0}].map(({icon:s,title:o,onClick:c,args:d})=>a(s,{class:"preview-util-icon",title:o,onClick:x=>c(x,d),key:o},null))]),Q=()=>u(b)&&a("div",{class:"image-control"},[a("div",{class:"image-control-left",onClick:i=>L(i,m.LEFT)},[a(ee,{style:{fontSize:"20px",color:"#E4E4E4"}},null)]),a("div",{class:"image-control-right",onClick:i=>L(i,m.RIGHT)},[a(Y,{style:{fontSize:"20px",color:"#E4E4E4"}},null)])]),W=()=>u(p)&&a("div",{class:"image-modal flex-center",onClick:()=>G()},[a("img",{class:"image-modal-preview",src:t.src,style:u(r),onClick:i=>i.stopPropagation()},null),V(),q(),Q()]),J=()=>{const{srcName:i,imageClass:s,rootClass:o,list:c}=e;return a(U,null,[u(f)?a("div",{class:["image-preview-box",o]},[a("div",{class:["image-preview-item",s]},[a("img",{src:c,style:u(g)},null),a(Z,{onClick:()=>M(0),class:"image-preview-item-eye",title:"\u9884\u89C8",style:{fontSize:"20px",color:"#E6E6E6"}},null)])]):a("div",{class:["image-preview-box",o]},[e.list.map((d,x)=>a("div",{class:["image-preview-item",s]},[a("img",{key:i?d[i]:d,src:i?d[i]:d,alt:d.alt,style:u(g)},null),a(Z,{onClick:()=>M(x),class:"image-preview-item-eye",title:"\u9884\u89C8",style:{fontSize:"20px",color:"#E6E6E6"}},null)]))])])};return()=>a("div",{class:"min-image"},[W(),l.default?l.default():J()])}});var N=R(Ee,[["__scopeId","data-v-efae170c"]]);const Pe={class:"image-preview"},Se=_("\u56FE\u7247\u9884\u89C8demo"),ke=_(" \u81EA\u5B9A\u4E49\u63D2\u69FD\u9884\u89C8(\u9700\u81EA\u5B9A\u4E49\u9884\u89C8\u663E\u9690show\u4E0E\u56FE\u7247\u7D22\u5F15index) "),Ie=["src","onClick"],je=_(" \u9ED8\u8BA4\u56FE\u7247\u9884\u89C8(\u591A\u56FE) "),$e=_(" \u9ED8\u8BA4\u56FE\u7247\u9884\u89C8(\u5355\u56FE) "),ze=D({setup(e){const n=E([{url:"https://picsum.photos/800/600"},{url:"https://picsum.photos/600/400"},{url:"https://picsum.photos/300/200"},{url:"https://picsum.photos/300/400"}]);E(["https://picsum.photos/320/180"]);const l=H(!1),t=H(0),r=g=>{l.value=!0,t.value=g};return(g,p)=>(P(),S("div",Pe,[a(u(le),{"content-position":"center"},{default:T(()=>[Se]),_:1}),k("div",null,[ke,a(N,{show:l.value,"onUpdate:show":p[0]||(p[0]=f=>l.value=f),index:t.value,list:u(n),"src-name":"url","click-mask-close":!1},{default:T(()=>[(P(!0),S(U,null,ne(u(n),(f,b)=>(P(),S("img",{key:f.url,class:"image-preview-item",src:f.url,alt:"",onClick:y=>r(b)},null,8,Ie))),128))]),_:1},8,["show","index","list"])]),k("div",null,[je,a(N,{"root-class":"image-box-class","image-class":"image-item-class",list:u(n),"src-name":"url","click-mask-close":!1},null,8,["list"])]),k("div",null,[$e,a(N,{list:"https://picsum.photos/320/180","click-mask-close":!1})])]))}});var Me=R(ze,[["__scopeId","data-v-626f1934"]]);export{Me as default};
