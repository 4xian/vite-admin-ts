import{s as e,E as l,l as a,a as t,I as s,f as o,r as n,w as i,a8 as r,a9 as u,O as v,Q as c,F as d,R as f,aa as p,P as m,U as h,S as y,z as g,A as b,V as w,n as T,M as x,W as O,Z as P}from"./vue.c50f9232.js";import{A as j,b7 as k,G as H,f as W,H as _,b8 as I,_ as $,b9 as A,aH as L}from"./index.a9d370ef.js";import{c as N}from"./_createAssigner.9b3939d7.js";import{i as M}from"./_baseRest.adb9298d.js";import{D as U}from"./index.b73f4393.js";import"./_baseIsEqual.0613a73a.js";var C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};function D(e,l,a){return l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}var E=function(a,t){var s=function(e){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?Object(arguments[l]):{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),t.forEach((function(l){D(e,l,a[l])}))}return e}({},a,t.attrs);return e(j,l(s,{icon:C}),null)};E.displayName="UpOutlined",E.inheritAttrs=!1;var F,S,R=E,q=Object.prototype.hasOwnProperty,B=N((function(e,l){if(k(l)||H(l))W(l,_(l),e);else for(var a in l)q.call(l,a)&&I(e,a,l[a])}));(S=F||(F={})).UP="up",S.DOWN="down",S.LEFT="left",S.RIGHT="right";const G=["innerHTML"],z={key:3,class:"scroll-empty flex-center"},Q=["src"];var V=$(a({props:{width:{type:Number,default:200},height:{type:Number,default:220},data:{type:Array,required:!0,default:()=>[]},options:Object},emits:["activeIndex"],setup(e,{emit:l}){const a=e,{width:x,height:O,options:P}=a,j=t({scrollType:0,direction:F.UP,speed:1,autoPlay:!0,hoverStop:!0,step:0,interval:0,controls:!0,controlsPadding:[0,0],animateTime:.4,emptyImg:"",emptyText:"暂无数据",emptyWidth:"30%",marginBias:0}),k=s(o((()=>B({},j,P)))),{emptyImg:H,autoPlay:W,speed:_,interval:I,step:$,hoverStop:L,emptyText:N,emptyWidth:U,direction:C,animateTime:D,marginBias:E,scrollType:S,controls:R,controlsPadding:q}=k,V=n(null),Z=n(null),J=n(null),K=n(null),X=n(0),Y=n(0),ee=n(0),le=n(0),ae=n(0),te=n(0),se=n(0),oe=n(0),ne=n(!1),ie=n(null),re=n(null),ue=n(!1),ve=o((()=>({width:`${x}px`,height:`${O}px`,padding:`${q[0]}px ${q[1]}px`}))),ce=o((()=>({height:"100%",overflow:"hidden"}))),de=o((()=>({transform:`translate(${-s(X)}px,${-s(Y)}px)`,transition:`all ${oe.value}s ease-in`}))),fe=o((()=>C===F.UP||C===F.DOWN)),pe=o((()=>fe.value?{overflow:"hidden"}:{display:"flex"})),me=o((()=>ye()||ge())),he=o((()=>R&&I&&a.data.length));i(a.data,((e,l)=>{M(e,l)||T((()=>{be(),We()}))}),{immediate:!0});const ye=()=>{const e=s(V),l=s(Z);return(null==l?void 0:l.offsetHeight)>(null==e?void 0:e.offsetHeight)&&l.offsetWidth<=e.offsetWidth},ge=()=>{const e=s(V),l=s(Z);return(null==l?void 0:l.offsetHeight)<=(null==e?void 0:e.offsetHeight)&&l.scrollWidth>e.offsetWidth+E},be=()=>{we(),X.value=0,Y.value=0,ue.value=0===S&&me.value},we=()=>{cancelAnimationFrame(Number(ie)),clearTimeout(Number(re.value))},Te=()=>{we(),ne.value||(ie.value=requestAnimationFrame((()=>{oe.value=0,ye()?C===F.UP?1===S?Y.value>=s(le)-s(te)?Y.value=0:Y.value+=_:(Y.value+=_,Y.value>=s(le)&&(Y.value=0)):C===F.DOWN&&(1===S?Y.value<=0?Y.value=s(le)-s(te):Y.value-=_:(Y.value-=_,Y.value<=s(le)-s(te)&&(Y.value=2*s(le)-s(te)))):ge()&&(C===F.LEFT?1===S?X.value>=s(ee)-s(ae)?X.value=0:X.value+=_:(X.value+=_,X.value>=s(ee)&&(X.value=0)):C===F.RIGHT&&(1===S?X.value<=0?X.value=s(ee)-s(ae):X.value-=_:(X.value-=_,X.value<=s(ee)-s(ae)&&(X.value=2*s(ee)-s(ae))))),re.value&&clearTimeout(Number(re.value)),I?(ye()?se.value=Y.value:ge()&&(se.value=X.value),se.value%$==0?(l("activeIndex",se.value/$),re.value=setTimeout((()=>{Te()}),I)):Te()):Te()})))},xe=()=>{L&&W&&s(me)&&(ne.value=!0,we())},Oe=()=>{L&&W&&s(me)&&(ne.value=!1,Te())},Pe=()=>{oe.value=D,X.value<=0?(oe.value=0,X.value=s(ee)-s(ae)):X.value-=$},je=()=>{oe.value=D,X.value>=s(ee)-s(ae)?(oe.value=0,X.value=0):X.value+=$},ke=()=>{oe.value=D,Y.value<=0?(oe.value=0,Y.value=s(le)-s(te)):Y.value-=$},He=()=>{oe.value=D,Y.value>=s(le)-s(te)?(oe.value=0,Y.value=0):Y.value+=$},We=()=>{var e,l,a,t,o,n;le.value=(null==(e=s(Z))?void 0:e.offsetHeight)||0,ee.value=(null==(l=s(Z))?void 0:l.scrollWidth)||0,ae.value=(null==(a=s(Z))?void 0:a.offsetWidth)||0,te.value=(null==(t=s(J))?void 0:t.offsetHeight)||0,W&&s(me)?(s(ue)&&(K.value=null==(o=s(Z))?void 0:o.innerHTML),Te()):!W&&I?s(ue)&&(K.value=null==(n=s(Z))?void 0:n.innerHTML):we()};return A((()=>{be()})),r((()=>{be()})),u((()=>{be(),We()})),(l,a)=>(v(),c("div",{ref_key:"scrollWrap",ref:V,class:"min-gapless-wrap",style:h(s(ve))},[!s(he)||"left"!==s(C)&&"right"!==s(C)?m("",!0):(v(),c(d,{key:0},[f("div",{class:"scroll-controls left-controls",onClick:Pe},[p(l.$slots,"left",{},void 0,!0)]),f("div",{class:"scroll-controls right-controls",onClick:je},[p(l.$slots,"right",{},void 0,!0)])],64)),!s(he)||"up"!==s(C)&&"down"!==s(C)?m("",!0):(v(),c(d,{key:1},[f("div",{class:"scroll-controls up-controls",onClick:ke},[p(l.$slots,"up",{},void 0,!0)]),f("div",{class:"scroll-controls down-controls",onClick:He},[p(l.$slots,"down",{},void 0,!0)])],64)),e.data.length>0?(v(),c("div",{key:2,ref_key:"visualArea",ref:J,style:h(s(ce))},[f("div",{ref_key:"scrollContent",ref:Z,class:y({"gapless-scroll-content":!s(fe)}),style:h(s(de)),onMouseenter:xe,onMouseleave:Oe},[f("div",{ref:"scrollItem",style:h(s(pe))},[p(l.$slots,"default",{},void 0,!0)],4),ue.value?(v(),c("div",{key:0,style:h(s(pe)),innerHTML:K.value},null,12,G)):m("",!0)],38)],4)):(v(),c("div",z,[g(f("img",{src:s(H),style:h({width:s(U)})},null,12,Q),[[b,s(H)]]),f("p",null,w(s(N)),1)]))],4))}}),[["__scopeId","data-v-641d3f0d"]]);const Z={class:"demo-gapless-scroll"},J={class:"scroll-title"},K=P("无缝滚动demo"),X={class:"scroll flex-center"};var Y=$(a({setup(l){const a=t(["滚动内容第四条","滚动内容第五条","滚动内容第六条","滚动内容第七条","滚动内容第八条","滚动内容第九条","滚动内容第十条"]),o=t({speed:1,autoPlay:!1,direction:"up",scrollType:1,interval:3e3,step:44,animateTime:.5,controlsPadding:[30,0]}),n=e=>{};return(l,t)=>(v(),c("div",Z,[f("div",J,[e(s(U),{"content-position":"center"},{default:x((()=>[K])),_:1})]),f("div",X,[e(V,{width:200,height:236,options:s(o),data:s(a),onActiveIndex:n},{up:x((()=>[e(s(R))])),down:x((()=>[e(s(L))])),default:x((()=>[(v(!0),c(d,null,O(s(a),(e=>(v(),c("div",{key:e,class:"scroll-item"},w(e),1)))),128))])),_:1},8,["options","data"])])]))}}),[["__scopeId","data-v-29a2cc90"]]);export{Y as default};
